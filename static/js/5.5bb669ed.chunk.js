(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{287:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var n=s(90);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var s=[],n=!0,a=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done)&&(s.push(o.value),!e||s.length!==e);n=!0);}catch(r){a=!0,c=r}finally{try{n||null==i.return||i.return()}finally{if(a)throw c}}return s}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},290:function(t,e,s){t.exports={profileInfoImg:"ProfileInfo_profileInfoImg__L8TPb",descriptionBlock:"ProfileInfo_descriptionBlock__3Zt8j",avatar:"ProfileInfo_avatar__2pFrT",aboutDescription:"ProfileInfo_aboutDescription__3MTYY",aboutContacts:"ProfileInfo_aboutContacts__1vqzM",aboutContactsLinks:"ProfileInfo_aboutContactsLinks__GCB7n",status:"ProfileInfo_status__2vjbd",input:"ProfileInfo_input__1-BbV",error:"ProfileInfo_error__16DNL"}},291:function(t,e,s){"use strict";e.a=s.p+"static/media/Programmyi-dlya-sozdaniya-avatarok.d393fa70.png"},296:function(t,e,s){t.exports={content:"MyPosts_content__1U-D8",postsBlock:"MyPosts_postsBlock__1TRPq",myPosts:"MyPosts_myPosts__26IKL",posts:"MyPosts_posts__2-ySP",textarea:"MyPosts_textarea__ks6vM",addPostBtn:"MyPosts_addPostBtn__3a33e",inputsBtns:"MyPosts_inputsBtns__fKCVG"}},297:function(t,e,s){t.exports={item:"Post_item__t-YW9",itemMessage:"Post_itemMessage__35NWq",likeCount:"Post_likeCount__33XZY"}},298:function(t,e,s){"use strict";s.r(e);var n=s(0),a=s.n(n),c=s(17),o=s(7),i=s(89),r=s(33),l=s(122),j=s(123),u=s(42),b=s(63),d=s(296),f=s.n(d),p=s(297),O=s.n(p),m=s(1),h=function(t){return Object(m.jsxs)("div",{className:O.a.item,children:[Object(m.jsxs)("div",{className:O.a.itemImg,children:[Object(m.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTgolBdeaXdt7hZ4G28YiA8shOCg4jkBg08uA&usqp=CAU",alt:"Avatar..."}),Object(m.jsxs)("p",{className:O.a.itemMessage,children:[" ",t.message," "]})]}),Object(m.jsxs)("div",{className:O.a.likeCount,children:[Object(m.jsx)("span",{children:" Like"})," ",t.likeCount]})]})},x=a.a.memo((function(t){var e=Object(r.a)(t.postsData).reverse().map((function(t){return Object(m.jsx)(h,{message:t.message,likeCount:t.likescount},t.id)}));return Object(m.jsx)("div",{className:f.a.content,children:Object(m.jsxs)("div",{className:f.a.postsBlock,children:[Object(m.jsx)("h3",{className:f.a.myPosts,children:"My Posts"}),Object(m.jsx)(_,{onSubmit:function(e){t.addPost(e.textAreaValuePost)}}),Object(m.jsx)("div",{className:f.a.posts,children:e})]})})})),_=Object(j.a)({form:"profilePostValue"})((function(t){return Object(m.jsxs)("form",{className:f.a.inputsBtns,onSubmit:t.handleSubmit,children:[Object(m.jsx)("div",{children:Object(m.jsx)(l.a,{placeholder:"What you think?",rows:"7",cols:"70",className:f.a.textarea,component:u.b,name:"textAreaValuePost",validate:[b.c,b.a]})}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{className:f.a.addPostBtn,children:"Add post"})})]})})),v=x,g=Object(c.b)((function(t){return{postsData:t.profilePage.postsData,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(i.a)(e))}}}))(v),P=s(287),k=s(46),N=s(290),y=s.n(N),C=s(291),M=function(t){var e=t.profileStatus,s=Object(n.useState)(!1),a=Object(P.a)(s,2),o=a[0],r=a[1],l=Object(n.useState)(e),j=Object(P.a)(l,2),u=j[0],b=j[1],d=Object(c.c)();Object(n.useEffect)((function(){b(e)}),[e]);return Object(m.jsxs)("div",{className:y.a.inputWrapper,children:[!o&&Object(m.jsxs)("div",{className:y.a.status,children:["STATUS:",Object(m.jsx)("span",{onDoubleClick:function(){r(!0)},children:e||"change status(2 click on this text)"})]}),o&&Object(m.jsx)("div",{children:Object(m.jsx)("input",{onChange:function(t){b(t.currentTarget.value)},autoFocus:!0,className:y.a.input,onBlur:function(){r(!1),d(Object(i.f)(u))},value:u})})]})},A=Object(j.a)({form:"edit-profile"})((function(t){return Object(m.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(m.jsxs)("div",{className:y.a.aboutDescription,children:["Name:",Object(m.jsx)(l.a,{placeholder:"Name",component:u.a,name:"fullName",validate:[]})]}),Object(m.jsxs)("div",{className:y.a.aboutDescription,children:["About me:",Object(m.jsx)(l.a,{placeholder:"About me",component:u.b,name:"aboutMe",validate:[]})]}),Object(m.jsxs)("div",{className:y.a.aboutDescription,children:["Looking for a job:",Object(m.jsx)(l.a,{component:u.a,type:"checkbox",name:"lookingForAJob",validate:[]})]}),Object(m.jsxs)("div",{className:y.a.aboutDescription,children:["My professional skills:",Object(m.jsx)(l.a,{placeholder:"Looking for a job description",component:u.b,name:"lookingForAJobDescription",validate:[]})]}),Object(m.jsx)("p",{className:y.a.aboutContacts,children:"Contacts:"}),Object(m.jsx)("ul",{className:y.a.aboutContactsLinks,children:Object.keys(t.profile.contacts).map((function(t){return Object(m.jsx)("div",{children:Object(m.jsxs)("b",{children:[t,":"," ",Object(m.jsx)(l.a,{placeholder:t,component:u.a,name:"contacts."+t,validate:[]})]})},t)}))}),Object(m.jsx)("button",{children:"Save"}),t.error&&Object(m.jsxs)("div",{className:y.a.error,children:[" ",t.error," "]})]})})),I=function(t){var e=t.profile,s=t.isOwner,n=t.goToEditMode;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{className:y.a.aboutDescription,children:["Name: ",Object(m.jsx)("span",{children:e.fullName})]}),Object(m.jsxs)("p",{className:y.a.aboutDescription,children:["About me: ",Object(m.jsx)("span",{children:e.aboutMe})]}),Object(m.jsxs)("p",{className:y.a.aboutDescription,children:["Looking for a job: ",Object(m.jsx)("span",{children:e.lookingForAJob?"Yes":"No"})]}),Object(m.jsxs)("p",{className:y.a.aboutDescription,children:["My professional skills: ",Object(m.jsx)("span",{children:e.lookingForAJobDescription})]}),Object(m.jsx)("p",{className:y.a.aboutContacts,children:"Contacts:"}),Object(m.jsx)("ul",{className:y.a.aboutContactsLinks,children:Object.keys(e.contacts).map((function(t){return e.contacts[t]?Object(m.jsx)(S,{contactTitle:t,contactValue:e.contacts[t]},t):null}))}),s&&Object(m.jsx)("button",{onClick:n,children:"Edit"})]})},S=function(t){var e=t.contactTitle,s=t.contactValue;return Object(m.jsxs)("li",{children:[e,":",Object(m.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:s})]})},D=function(t){var e=t.isOwner,s=Object(n.useState)(!1),a=Object(P.a)(s,2),o=a[0],r=a[1],l=Object(c.d)((function(t){return t.profilePage})),j=l.profile,u=l.status,b=Object(c.c)();if(!j)return Object(m.jsx)(k.a,{});return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:y.a.descriptionBlock,children:[Object(m.jsx)("div",{className:y.a.avatar,children:Object(m.jsx)("img",{src:null!==j.photos.large?j.photos.large:C.a,alt:"profile avatar"})}),Object(m.jsxs)("div",{className:y.a.about,children:[Object(m.jsx)(M,{profileStatus:u}),o?Object(m.jsx)(A,{initialValues:j,profile:j,onSubmit:function(t){b(Object(i.e)(t)).then((function(){r(!1)}))}}):Object(m.jsx)(I,{goToEditMode:function(){r(!0)},profile:j,isOwner:e}),e&&Object(m.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&b(Object(i.d)(t.target.files[0]))}})]})]})})};e.default=function(){var t=Object(o.g)().userId,e=Object(c.c)(),s=Object(c.d)((function(t){return t.auth.userId})),a=Object(c.d)((function(t){return t.auth.isAuth})),r=function(){t||(t=s),e(Object(i.g)(t)),e(Object(i.c)(t))},l=function(t){var e=Object(n.useRef)();return Object(n.useEffect)((function(){e.current=t}),[t]),e.current}(t);return Object(n.useEffect)((function(){r(),t!==l&&r()})),Object(m.jsx)("div",{children:a?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(D,{isOwner:!t}),Object(m.jsx)(g,{})]}):Object(m.jsx)(o.a,{to:"/login"})})}}}]);
//# sourceMappingURL=5.5bb669ed.chunk.js.map