{"version":3,"sources":["components/hoc/AuthRedirect.js","assets/Programmyi-dlya-sozdaniya-avatarok.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Users/Users.module.css","components/Users/Paginator/Paginator.jsx","components/Users/User/User.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","Paginator","totalUsersCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","useEffect","leftPortionPageNumber","rightPortionPageNumber","onClick","filter","p","map","className","classes","selectedpadge","page","e","User","UsersWrapper","userItem","wrapperImg","u","id","src","photos","small","userPhoto","alt","userItemPhoto","followed","disabled","followingInProgress","some","unfollowThunk","userItemBtn","userItemBtnUnf","followThunk","wrapperInfo","userItemPersons","userItemPersonsName","name","userItemPersonsStatus","dsad","status","userItemLievs","userItemLievsCountry","userItemLievsCity","Users","users","getUsersState","usersPage","getPageSizeState","getTotalUsersCountState","getCurrentPageState","getIsFetchingState","isFetching","getFollowingInProgressState","UsersContainer","getUsersThunkCreator","compose"],"mappings":"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","file":"static/js/5.91c26d47.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={'/login'} />\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  \r\n  let ConectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n  return ConectedAuthRedirectComponent\r\n}","export default __webpack_public_path__ + \"static/media/Programmyi-dlya-sozdaniya-avatarok.d393fa70.png\";","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UsersWrapper\":\"Users_UsersWrapper__GqBYX\",\"userItemPhoto\":\"Users_userItemPhoto__3qc0s\",\"userItemBtn\":\"Users_userItemBtn__2tg3B\",\"userItemBtnUnf\":\"Users_userItemBtnUnf__114D1\",\"userItem\":\"Users_userItem__2pWzw\",\"wrapperImg\":\"Users_wrapperImg__2H9LA\",\"wrapperInfo\":\"Users_wrapperInfo__3nNca\",\"userItemPersons\":\"Users_userItemPersons__2Upla\",\"userItemPersonsName\":\"Users_userItemPersonsName__3s7yh\",\"userItemPersonsStatus\":\"Users_userItemPersonsStatus__1xD8n\",\"userItemLievs\":\"Users_userItemLievs__3BhXj\",\"userItemLievsCountry\":\"Users_userItemLievsCountry__1Ynvt\",\"userItemLievsCity\":\"Users_userItemLievsCity__jg7ry\",\"selectedpadge\":\"Users_selectedpadge__10qey\",\"page\":\"Users_page__1-glP\"};","import { useEffect, useState } from 'react'\r\nimport classes from '../Users.module.css'\r\n\r\n\r\n\r\n\r\nconst Paginator = ({totalUsersCount, pageSize, currentPage, onPageChanged, portionSize = 20}) => {\r\n  let pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n  let pages = []\r\n  for (let i = 1; i <= pagesCount; i++){\r\n    pages.push(i)\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize)\r\n  let [portionNumber, setPortionNumber] = useState(1)\r\n  useEffect(() => \r\n    setPortionNumber(Math.ceil(currentPage/portionSize))\r\n    , [currentPage]);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n  let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n\r\n  return (\r\n\r\n    <div>\r\n      {portionNumber > 1 && \r\n      <button onClick={() => {setPortionNumber(portionNumber - 1) }} >Prev</button>\r\n      }\r\n      {\r\n        pages\r\n          .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n          .map(p => {\r\n            return <button \r\n                      className={`${currentPage === p && classes.selectedpadge} ${classes.page}`}\r\n                      key={p}\r\n                      onClick={(e) => {\r\n                       \r\n                        onPageChanged(p)\r\n                      } }>\r\n                        {p}\r\n                   </button>\r\n          })\r\n      }\r\n      {\r\n        portionCount > portionNumber &&\r\n        <button onClick={() => {setPortionNumber(portionNumber + 1) }} >Next</button>\r\n      }\r\n    </div>\r\n\r\n  )\r\n}\r\nexport default Paginator","import { NavLink } from 'react-router-dom'\r\nimport classes from '../Users.module.css'\r\nimport userPhoto from '../../../assets/Programmyi-dlya-sozdaniya-avatarok.png'\r\n\r\n\r\nconst User = (props) => {\r\n  return (\r\n    <div key={props.u.id}  className={classes.UsersWrapper}>\r\n          <div className={`${classes.userItem} ${classes.wrapperImg}`}>\r\n            <div>\r\n              <NavLink to={'/profile/' + props.u.id}> \r\n                <img \r\n                src={props.u.photos.small != null ? props.u.photos.small : userPhoto} \r\n                alt=\"Foto\" \r\n                className={classes.userItemPhoto} />\r\n              </NavLink>\r\n            </div>\r\n            { \r\n              props.u.followed \r\n                ? \r\n                <button disabled={props.followingInProgress.some(id => id === props.u.id)}\r\n                  onClick={() => {\r\n                    props.unfollowThunk(props.u.id)\r\n                  }\r\n                  } \r\n                  className={`${classes.userItemBtn} ${classes.userItemBtnUnf}`}>\r\n                    Unfollow\r\n                </button> \r\n                : \r\n                <button disabled={props.followingInProgress.some(id => id === props.u.id)}  \r\n                  onClick={() => {\r\n                    props.followThunk(props.u.id)\r\n                }} \r\n                  className={classes.userItemBtn}>\r\n                    Follow\r\n                </button> \r\n            }\r\n            \r\n          </div>\r\n\r\n          <div className={`${classes.userItem} ${classes.wrapperInfo}`}>\r\n\r\n            <div className={classes.userItemPersons}>\r\n              <h3 className={classes.userItemPersonsName}>Name: <span>{props.u.name}</span> </h3>\r\n              <p className={classes.userItemPersonsStatus}>Status: <span className={classes.dsad}>{props.u.status}</span> </p>\r\n            </div>\r\n\r\n            <div className={classes.userItemLievs}>\r\n              <h3 className={classes.userItemLievsCountry}>Country: <span>{'NULL'}</span> </h3>\r\n              <p className={classes.userItemLievsCity}>City: <span>{'NULL'}</span> </p>\r\n            </div> \r\n\r\n          </div>  \r\n\r\n       </div>\r\n  )\r\n}\r\nexport default User","\r\nimport Paginator from './Paginator/Paginator'\r\nimport User from './User/User'\r\n\r\n\r\n\r\nconst Users = (props) => {\r\n\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        props.users.map(u => <User \r\n          u={u} \r\n          followingInProgress={props.followingInProgress}\r\n          unfollowThunk={props.unfollowThunk}\r\n          followThunk={props.followThunk}\r\n        />)\r\n      }\r\n\r\n      <Paginator \r\n        currentPage={props.currentPage} \r\n        onPageChanged={props.onPageChanged}\r\n        totalUsersCount={props.totalUsersCount}\r\n        pageSize={props.pageSize}\r\n      />\r\n    </div>\r\n  )\r\n}\r\nexport default Users","export const getUsersState = (state) => {\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getPageSizeState = (state) => {\r\n  return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCountState = (state) => {\r\n  return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPageState = (state) => {\r\n  return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetchingState = (state) => {\r\n  return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgressState = (state) => {\r\n  return state.usersPage.followingInProgress\r\n}","import React from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { getUsersThunkCreator} from \"../../redux/usersReducer\"\r\nimport Users from \"./Users\"\r\nimport Preloader from \"../common/preloader/preloader\"\r\nimport { followThunk, unfollowThunk } from '../../redux/usersReducer'\r\nimport { withAuthRedirect } from \"../hoc/AuthRedirect\"\r\nimport { compose } from \"redux\"\r\nimport { getCurrentPageState, getFollowingInProgressState, getIsFetchingState, getPageSizeState, getTotalUsersCountState, getUsersState } from \"../../redux/usersSelectors\"\r\n\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n  componentDidMount(){\r\n\r\n    this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize)\r\n\r\n  }\r\n  \r\n  onPageChanged = (p) => { \r\n\r\n    this.props.getUsersThunkCreator(p, this.props.pageSize)\r\n\r\n  }\r\n\r\n  render() {\r\n    \r\n    return <>\r\n    {this.props.isFetching ? <Preloader /> : \r\n    <Users \r\n        totalUsersCount={this.props.totalUsersCount}\r\n        pageSize={this.props.pageSize}\r\n        currentPage={this.props.currentPage}\r\n        onPageChanged={this.onPageChanged}\r\n        users={this.props.users}\r\n        followingInProgress={this.props.followingInProgress}\r\n        followThunk={this.props.followThunk}\r\n        unfollowThunk={this.props.unfollowThunk}\r\n    />\r\n  }\r\n    </> \r\n      \r\n    \r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const mapStateToProps = (state) => {\r\n//   return {\r\n//     users: state.usersPage.users,\r\n//     pageSize: state.usersPage.pageSize,\r\n//     totalUsersCount: state.usersPage.totalUsersCount,\r\n//     currentPage: state.usersPage.currentPage,\r\n//     isFetching: state.usersPage.isFetching,\r\n//     followingInProgress: state.usersPage.followingInProgress\r\n//   }\r\n// }\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsersState(state),\r\n    pageSize: getPageSizeState(state),\r\n    totalUsersCount: getTotalUsersCountState(state),\r\n    currentPage: getCurrentPageState(state),\r\n    isFetching: getIsFetchingState(state),\r\n    followingInProgress: getFollowingInProgressState(state)\r\n  }\r\n}\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps,  {//2\r\n    getUsersThunkCreator,\r\n    followThunk,\r\n    unfollowThunk\r\n  }),\r\n  withAuthRedirect//1\r\n)(UsersContainer)//1"],"sourceRoot":""}